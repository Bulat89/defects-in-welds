–ü–æ—Å–∫–æ–ª—å–∫—É –∑–∞–ø—Ä–µ—Ç–æ–≤ –Ω–µ –±—ã–ª–æ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–µ–ª–∞–ª –ø—Ä–∏ –ø–æ–º–æ—â–∏ LLM!!!!!!!!!!!!!!!!!


# üî© –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤ —Å–≤–∞—Ä–Ω—ã—Ö —à–≤–æ–≤ (Welding Defect Detection)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω–≤–µ–π–µ—Ä –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è (MLOps Pipeline) –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö —Å–≤–∞—Ä–Ω—ã—Ö —à–≤–æ–≤. –í –∫–∞—á–µ—Å—Ç–≤–µ –º–æ–¥–µ–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ **Faster R-CNN** –Ω–∞ –±–∞–∑–µ PyTorch/Torchvision.

–ö–æ–Ω–≤–µ–π–µ—Ä MLOps —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é **Data Version Control (DVC)** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –∏ –º–æ–¥–µ–ª—è–º–∏, –∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Äî —Å –ø–æ–º–æ—â—å—é **Hydra**.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| **–ú–æ–¥–µ–ª—å** | PyTorch Lightning, Faster R-CNN | –§—Ä–µ–π–º–≤–æ—Ä–∫ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤. |
| **MLOps** | DVC (Data Version Control) | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–π–µ—Ä–∞. |
| **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** | Hydra | –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞ (`params.yaml`). |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | MLflow | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, –º–µ—Ç—Ä–∏–∫ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤. |
| **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** | TensorBoard (—á–µ—Ä–µ–∑ MLflow) | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ö–æ–¥–∞ –æ–±—É—á–µ–Ω–∏—è. |

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

defects-in-welds/ ‚îú‚îÄ‚îÄ configs/ ‚îÇ ‚îî‚îÄ‚îÄ params.yaml # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ DVC/Hydra ‚îú‚îÄ‚îÄ data/ # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (dvc-tracked) ‚îú‚îÄ‚îÄ defects_in-welds/ ‚îÇ ‚îú‚îÄ‚îÄ data/ # –ú–æ–¥—É–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ (Dataset, DataModule) ‚îÇ ‚îú‚îÄ‚îÄ model/ # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (DefectDetectionModel) ‚îÇ ‚îî‚îÄ‚îÄ training/ # –õ–æ–≥–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è (LightningModule, run_training.py) ‚îú‚îÄ‚îÄ DVC.yaml # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ DVC-–∫–æ–Ω–≤–µ–π–µ—Ä–∞ (stages: prepare, train) ‚îú‚îÄ‚îÄ requirements.txt # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚îî‚îÄ‚îÄ README.md # –≠—Ç–æ—Ç —Ñ–∞–π–ª

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É (–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ)

–î–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è Python 3.8+ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

3. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (DVC Pull)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DVC –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

dvc pull


–û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:

data/
‚îú‚îÄ‚îÄ train/
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ labels/   # –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YOLO
‚îú‚îÄ‚îÄ valid/
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ labels/
‚îî‚îÄ‚îÄ test/
    ‚îú‚îÄ‚îÄ images/
    ‚îî‚îÄ‚îÄ labels/

4. –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ DVC

–ö–æ–Ω–≤–µ–π–µ—Ä DVC –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ —Ñ–∞–π–ª–µ DVC.yaml –∏ –≤–∫–ª—é—á–∞–µ—Ç —ç—Ç–∞–ø—ã prepare –∏ train.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—É—á–µ–Ω–∏—è:

dvc repro


–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç:

prepare: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

train: –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ PyTorch Lightning —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ configs/params.yaml

5. –ó–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ / Colab)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —ç—Ç–∞–ø –æ–±—É—á–µ–Ω–∏—è —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: Hydra –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç params.yaml
python -m defects_in_welds.training.run_training train.batch_size=8 trainer.precision=16-mixed

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å
–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ (MLflow)

–í—Å–µ –º–µ—Ç—Ä–∏–∫–∏, –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (—á–µ–∫–ø–æ–∏–Ω—Ç—ã) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é MLflow.

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:

mlflow ui


–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –¥–ª—è Colab: –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nohup –∏–ª–∏ Ngrok –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ UI.

–ú–µ—Ç—Ä–∏–∫–∏

–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ:

metrics/history.json


–û—Å–Ω–æ–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞: val_mAP (Mean Average Precision) –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–º –Ω–∞–±–æ—Ä–µ.

–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

–õ–æ–∫–∞–ª—å–Ω–æ: checkpoints/best_model.ckpt

–í MLflow: –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º Run'–µ (artifacts/models)

‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º (Troubleshooting)
–ü—Ä–æ–±–ª–µ–º–∞	–ü—Ä–∏—á–∏–Ω–∞	–†–µ—à–µ–Ω–∏–µ
torch.OutOfMemoryError	–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π batch_size –∏–ª–∏ image_size	–£–º–µ–Ω—å—à–∏—Ç–µ batch_size (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ 4) –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–º–µ—à–∞–Ω–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å (precision='16-mixed')
–û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ —Ç–µ–Ω–∑–æ—Ä–æ–≤ –≤ Torchvision	–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–Ω–∑–æ—Ä–æ–≤ –¥–ª—è –ø—É—Å—Ç—ã—Ö —Ä–∞–º–æ–∫	–í lit_module.py –æ–±–µ—Å–ø–µ—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä torch.Size([0, 4]) –¥–ª—è –ø—É—Å—Ç—ã—Ö –±–æ–∫—Å–æ–≤
FileNotFoundError (data)	DVC –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª –¥–∞–Ω–Ω—ã–µ	–í—ã–ø–æ–ª–Ω–∏—Ç–µ dvc pull –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ data/

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å **–µ—â—ë –±–æ–ª–µ–µ –≤–∏–∑—É–∞–ª—å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å —ç–º–æ–¥–∑–∏, –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∏ –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞**, —á—Ç–æ–±—ã README –≤—ã–≥–ª—è–¥–µ–ª –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π GitHub –ø—Ä–æ–µ–∫—Ç.  

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —ç—Ç–æ —Å–¥–µ–ª–∞–ª?

